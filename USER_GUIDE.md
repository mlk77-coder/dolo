# Deal Form - User Guide

## üéâ New Feature: Automatic Form Data Saving

Your form data is now automatically saved and restored when you navigate to select a location!

## How to Use

### Creating a New Deal

1. **Navigate to Create Deal**
   - Go to Deals ‚Üí Create Deal

2. **Fill in the Form**
   - Enter deal details (title, price, description, etc.)
   - As you type, you'll see a "Draft saved" indicator appear briefly
   - This means your data is being saved automatically!

3. **Select Location (Optional)**
   - Scroll to the "Deal Location in Damascus" section
   - Click the blue button: **"Choose Deal Location on Map"**
   - Your form data is automatically saved before navigation

4. **Pick Location on Map**
   - Search for an area in Damascus (e.g., "Mazzeh", "Shaalan")
   - Or click directly on the map
   - Enter a location name (optional)
   - Click **"‚úì Confirm & Return to Deal Form"**

5. **Continue Editing**
   - You're back at the form
   - **All your data is still there!** ‚ú®
   - The location is now set
   - Continue filling any remaining fields

6. **Submit**
   - Click **"Create"** to save the deal
   - Your draft is automatically cleared

## Visual Indicators

### Auto-Save Indicator
When you see this in the top-right corner:
- üîµ **"Saving..."** - Your data is being saved
- ‚úÖ **"Draft saved"** - Save successful

### Draft Restored Notification
If you return to the form after closing the browser:
- üìã Blue notification box appears
- Shows when the draft was saved
- Click ‚úï to dismiss

### Location Selected
After picking a location:
- ‚úÖ Green success box appears
- Shows location name and coordinates
- Confirms location was saved

## Features

### ‚ú® Auto-Save
- Saves every 1 second after you stop typing
- Saves immediately when you change dropdowns or checkboxes
- Works in the background - no action needed

### üíæ Draft Recovery
- Close browser accidentally? No problem!
- Your data is saved and restored automatically
- Works for up to 24 hours

### üìç Location Integration
- Navigate to map without losing data
- Location is saved separately
- Both form data and location are restored

### üßπ Auto-Cleanup
- Draft is cleared after successful submission
- No manual cleanup needed
- Fresh form for next deal

## Tips

### üí° Best Practices
1. **Let auto-save work** - Wait 1 second after typing before navigating
2. **Check the indicator** - Look for "Draft saved" before leaving
3. **Use location picker freely** - Your data is safe
4. **Don't worry about crashes** - Data is recovered automatically

### ‚ö†Ô∏è Important Notes
- Draft expires after 24 hours
- Clearing browser data removes drafts
- Only one draft is saved at a time
- Images are NOT saved in drafts (upload after location selection)

## Troubleshooting

### Problem: Data not restored
**Solution:**
1. Check if localStorage is enabled in browser
2. Look for "Draft Restored" notification
3. Try refreshing the page
4. Clear browser cache and try again

### Problem: Location not saved
**Solution:**
1. Make sure you clicked "Confirm & Return"
2. Check if location fields are filled
3. Try selecting location again

### Problem: Draft persists after submission
**Solution:**
1. This shouldn't happen - it's a bug
2. Manually clear by clicking "Clear Location" button
3. Or refresh the page

## Keyboard Shortcuts

- **Enter** in search box ‚Üí Search location
- **Esc** ‚Üí Close notifications (if implemented)

## Browser Compatibility

‚úÖ Chrome, Edge, Firefox, Safari
‚úÖ Desktop and Mobile
‚úÖ Requires JavaScript enabled
‚úÖ Requires localStorage enabled

## Privacy & Security

- Data is stored locally in your browser
- Server session is temporary
- No sensitive data is logged
- Draft is cleared after submission

## FAQ

**Q: How long is my draft saved?**
A: Up to 24 hours, or until you submit the form.

**Q: Can I have multiple drafts?**
A: No, only one draft is saved at a time.

**Q: Are images saved in drafts?**
A: No, only text fields. Upload images after selecting location.

**Q: What if I want to start fresh?**
A: Just submit the form or clear browser data.

**Q: Does this work on mobile?**
A: Yes! Works on all modern browsers.

## Need Help?

If you encounter issues:
1. Check browser console (F12)
2. Contact your system administrator
3. Refer to technical documentation

---

**Enjoy the seamless deal creation experience!** üöÄ
